(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8b7369ba"],{"0668":function(e,t,c){"use strict";c("6dea")},"11c1":function(e,t,c){"use strict";c("713f")},"4b6d":function(e,t,c){},"6dea":function(e,t,c){},"713f":function(e,t,c){},"9b27":function(e,t,c){},b326:function(e,t,c){"use strict";var n=c("7a23"),o={class:"text"};function r(e,t,c,r,a,l){return Object(n["openBlock"])(),Object(n["createBlock"])(n["Transition"],{name:"down"},{default:Object(n["withCtx"])((function(){return[r.visible?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"xtx-message",style:Object(n["normalizeStyle"])(r.style[c.type])},[Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["iconfont",[r.style[c.type].icon]])},null,2),Object(n["createElementVNode"])("span",o,Object(n["toDisplayString"])(c.text),1)],4)):Object(n["createCommentVNode"])("",!0)]})),_:1})}var a={name:"XtxMessage",props:{text:{type:String,default:""},type:{type:String,default:"warn"}},setup:function(){var e={warn:{icon:"icon-warning",color:"#E6A23C",backgroundColor:"rgb(253, 246, 236)",borderColor:"rgb(250, 236, 216)"},error:{icon:"icon-shanchu",color:"#F56C6C",backgroundColor:"rgb(254, 240, 240)",borderColor:"rgb(253, 226, 226)"},success:{icon:"icon-queren2",color:"#67C23A",backgroundColor:"rgb(240, 249, 235)",borderColor:"rgb(225, 243, 216)"}},t=Object(n["ref"])(!1);return{style:e,visible:t}}},l=(c("11c1"),c("6b0d")),s=c.n(l);const i=s()(a,[["render",r],["__scopeId","data-v-319c08a0"]]);var d=i;t["a"]=function(e){var t=e.type,c=e.text,o=e.time,r=void 0===o?2e3:o,a=Object(n["createVNode"])(d,{type:t,text:c});Object(n["render"])(a,document.body),a.component.setupState.visible=!0,setTimeout((function(){a.component.setupState.visible=!1}),r)}},cb59:function(e,t,c){},d232:function(e,t,c){"use strict";c("cb59")},ddc7:function(e,t,c){"use strict";c("4b6d")},de6d:function(e,t,c){"use strict";c.r(t);c("b0c0");var n=c("7a23"),o=function(e){return Object(n["pushScopeId"])("data-v-6335054f"),e=e(),Object(n["popScopeId"])(),e},r={key:0,class:"xtx-goods-page"},a={class:"container"},l=Object(n["createTextVNode"])("首页"),s={class:"goods-info"},i={class:"media"},d={class:"spec"},u=Object(n["createTextVNode"])(" 加入购物车 "),b={class:"goods-footer"},O={class:"goods-article"},j={class:"goods-tabs"},m=o((function(){return Object(n["createElementVNode"])("div",{class:"goods-aside"},null,-1)}));function p(e,t,c,o,p,f){var g=Object(n["resolveComponent"])("XtxBreadItem"),v=Object(n["resolveComponent"])("XtxBread"),N=Object(n["resolveComponent"])("GoodsImage"),V=Object(n["resolveComponent"])("GoodsSales"),E=Object(n["resolveComponent"])("GoodsName"),x=Object(n["resolveComponent"])("GoodsSku"),y=Object(n["resolveComponent"])("XtxNumbox"),k=Object(n["resolveComponent"])("XtxButton"),C=Object(n["resolveDirective"])("imglazy");return o.goods.categories?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",r,[Object(n["createElementVNode"])("div",a,[Object(n["createVNode"])(v,{separator:"/"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(g,{to:"/"},{default:Object(n["withCtx"])((function(){return[l]})),_:1}),Object(n["createVNode"])(g,{to:"/"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(o.goods.categories[1].name),1)]})),_:1}),Object(n["createVNode"])(g,{to:"/"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(o.goods.categories[0].name),1)]})),_:1}),Object(n["createVNode"])(g,{to:"/"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(o.goods.name),1)]})),_:1})]})),_:1}),Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("div",i,[Object(n["createVNode"])(N,{imgs:o.goods.mainPictures},null,8,["imgs"]),Object(n["createVNode"])(V,{goods:o.goods},null,8,["goods"])]),Object(n["createElementVNode"])("div",d,[Object(n["createVNode"])(E),Object(n["createVNode"])(x,{goods:o.goods,onChange:o.changSku},null,8,["goods","onChange"]),Object(n["createVNode"])(y,{max:o.goods.inventory,min:1,modelValue:o.num,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.num=e})},null,8,["max","modelValue"]),Object(n["createVNode"])(k,{type:"large",bg:"primary",style:{"margin-top":"10px"},onClick:o.goCart},{default:Object(n["withCtx"])((function(){return[u]})),_:1},8,["onClick"])])]),Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("div",O,[Object(n["createElementVNode"])("div",j,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.goods.details.pictures,(function(e,t){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:t},null,512)),[[C,e]])})),128))])]),m])])])):Object(n["createCommentVNode"])("",!0)}var f=c("1da1"),g=(c("96cf"),c("b775")),v=function(e){return Object(g["a"])("/goods","get",{id:e})},N=c("6c02"),V=(c("99af"),{class:"goods-image"}),E={class:"middle",ref:"target"},x=["src"],y={class:"small"},k=["onMouseenter"],C=["src"];function h(e,t,c,o,r,a){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",V,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:"large",style:Object(n["normalizeStyle"])([{backgroundImage:"url(".concat(c.imgs[o.currentIndex],")"),backgroundPosition:"".concat(o.bg.x,"px ").concat(o.bg.y,"px")}])},null,4),[[n["vShow"],!o.isOutside]]),Object(n["createElementVNode"])("div",E,[Object(n["createElementVNode"])("img",{src:c.imgs[o.currentIndex],alt:""},null,8,x),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:"layer",style:Object(n["normalizeStyle"])([{left:"".concat(o.pos.left,"px"),top:"".concat(o.pos.top,"px")}])},null,4),[[n["vShow"],!o.isOutside]])],512),Object(n["createElementVNode"])("ul",y,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(c.imgs,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:t,onMouseenter:function(e){return o.currentIndex=t},class:Object(n["normalizeClass"])({active:o.currentIndex===t})},[Object(n["createElementVNode"])("img",{src:e,alt:""},null,8,C)],42,k)})),128))])])}var S=c("8afd"),w=c("5550"),I={name:"GoodsImage",props:{imgs:{type:Array,default:function(){return[]}}},setup:function(){var e=Object(S["ref"])(null),t=Object(S["reactive"])({left:0,top:0}),c=Object(S["reactive"])({x:0,y:0}),n=Object(S["ref"])(0),o=Object(w["c"])(e),r=o.elementX,a=o.elementY,l=o.isOutside;return Object(S["watch"])([r,a],(function(){r.value>300?t.left=200:r.value<100?t.left=0:t.left=r.value-100,a.value>300?t.top=200:a.value<100?t.top=0:t.top=a.value-100,c.x=2*-t.left,c.y=2*-t.top})),{currentIndex:n,target:e,elementX:r,elementY:a,isOutside:l,pos:t,bg:c}}},B=(c("f730"),c("6b0d")),_=c.n(B);const D=_()(I,[["render",h],["__scopeId","data-v-7c89fbb1"]]);var T=D,G=function(e){return Object(n["pushScopeId"])("data-v-378f5cba"),e=e(),Object(n["popScopeId"])(),e},P={class:"goods-sales"},X=G((function(){return Object(n["createElementVNode"])("p",null,"销量人气",-1)})),z=G((function(){return Object(n["createElementVNode"])("p",null,[Object(n["createElementVNode"])("i",{class:"iconfont icon-task-filling"}),Object(n["createTextVNode"])("销量人气")],-1)})),A=G((function(){return Object(n["createElementVNode"])("p",null,"商品评价",-1)})),F=G((function(){return Object(n["createElementVNode"])("p",null,[Object(n["createElementVNode"])("i",{class:"iconfont icon-comment-filling"}),Object(n["createTextVNode"])("查看评价")],-1)})),R=G((function(){return Object(n["createElementVNode"])("p",null,"收藏人气",-1)})),L=G((function(){return Object(n["createElementVNode"])("p",null,[Object(n["createElementVNode"])("i",{class:"iconfont icon-favorite-filling"}),Object(n["createTextVNode"])("收藏商品")],-1)})),M=G((function(){return Object(n["createElementVNode"])("p",null,"品牌信息",-1)})),J=G((function(){return Object(n["createElementVNode"])("p",null,[Object(n["createElementVNode"])("i",{class:"iconfont icon-dynamic-filling"}),Object(n["createTextVNode"])("品牌主页")],-1)}));function Y(e,t,c,o,r,a){return Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",P,[Object(n["createElementVNode"])("li",null,[X,Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(o.goods.salesCount),1),z]),Object(n["createElementVNode"])("li",null,[A,Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(o.goods.commentCount),1),F]),Object(n["createElementVNode"])("li",null,[R,Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(o.goods.collectCount),1),L]),Object(n["createElementVNode"])("li",null,[M,Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(o.goods.brand.name),1),J])])}var q={name:"GoodsSales",setup:function(){var e=Object(n["inject"])("goods");return{goods:e}}};c("d232");const U=_()(q,[["render",Y],["__scopeId","data-v-378f5cba"]]);var H=U,K=function(e){return Object(n["pushScopeId"])("data-v-068f4320"),e=e(),Object(n["popScopeId"])(),e},Q={class:"g-name"},W={class:"g-desc"},Z={class:"g-price"},$={class:"g-service"},ee=K((function(){return Object(n["createElementVNode"])("dl",null,[Object(n["createElementVNode"])("dt",null,"促销"),Object(n["createElementVNode"])("dd",null,"12月好物放送，App领券购买直降120元")],-1)})),te=K((function(){return Object(n["createElementVNode"])("dt",null,"配送",-1)})),ce=K((function(){return Object(n["createElementVNode"])("dd",null,"至",-1)})),ne=K((function(){return Object(n["createElementVNode"])("dl",null,[Object(n["createElementVNode"])("dt",null,"服务"),Object(n["createElementVNode"])("dd",null,[Object(n["createElementVNode"])("span",null,"无忧退货"),Object(n["createElementVNode"])("span",null,"快速退款"),Object(n["createElementVNode"])("span",null,"免费包邮"),Object(n["createElementVNode"])("a",{href:"javascript:;"},"了解详情")])],-1)}));function oe(e,t,c,o,r,a){var l=Object(n["resolveComponent"])("XtxCity");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("p",Q,Object(n["toDisplayString"])(o.goods.name),1),Object(n["createElementVNode"])("p",W,Object(n["toDisplayString"])(o.goods.desc),1),Object(n["createElementVNode"])("p",Z,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(o.goods.price),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(o.goods.oldPrice),1)]),Object(n["createElementVNode"])("div",$,[ee,Object(n["createElementVNode"])("dl",null,[te,ce,Object(n["createElementVNode"])("dd",null,[Object(n["createVNode"])(l)])]),ne])],64)}var re={name:"GoodName",setup:function(){var e=Object(n["inject"])("goods");return{goods:e}}};c("ddc7");const ae=_()(re,[["render",oe],["__scopeId","data-v-068f4320"]]);var le=ae,se=c("5502"),ie=c("b326"),de={name:"XtxGoodsPage",components:{GoodsImage:T,GoodsSales:H,GoodsName:le},setup:function(){var e=Object(n["ref"])(1),t=Object(n["ref"])({});Object(n["provide"])("goods",t);var c=Object(N["c"])(),o=Object(se["d"])(),r=Object(n["ref"])(null),a=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v(c.params.id);case 2:n=e.sent,o=n.result,console.log("当前商品信息",o),t.value=o;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a();var l=function(e){e.skuId?(t.value.inventory=e.inventory,t.value.oldPrice=e.oldPrice,t.value.price=e.price,r.value=e,console.log("skus",r)):r.value=null},s=function(){var c=Object(f["a"])(regeneratorRuntime.mark((function c(){var n,a;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return r.value.skuId||Object(ie["a"])({type:"warn",text:"请选择商品规格"}),0===r.value.inventory&&Object(ie["a"])({type:"warn",text:"库存不足"}),n={id:t.value.id,name:t.value.name,picture:t.value.mainPictures[0],skuId:r.value.skuId,price:r.value.oldPrice,nowPrice:r.value.price,attrsText:r.value.specsText,stock:r.value.inventory,selected:!0,isEffective:!0,count:e.value},c.prev=3,c.next=6,o.dispatch("cart/addCartListActions",n);case 6:a=c.sent,Object(ie["a"])({type:"success",text:a}),c.next=13;break;case 10:c.prev=10,c.t0=c["catch"](3),Object(ie["a"])({type:"error",text:"加入购物车失败"});case 13:case"end":return c.stop()}}),c,null,[[3,10]])})));return function(){return c.apply(this,arguments)}}();return{goods:t,changSku:l,num:e,goCart:s}}};c("0668");const ue=_()(de,[["render",p],["__scopeId","data-v-6335054f"]]);t["default"]=ue},f730:function(e,t,c){"use strict";c("9b27")}}]);
//# sourceMappingURL=chunk-8b7369ba.e1260a5f.js.map