{"version":3,"sources":["webpack:///./src/views/Goods/index.vue?7285","webpack:///./src/components/Message/index.vue?fbcb","webpack:///./src/components/Message/index.vue","webpack:///./src/components/Message/index.vue?0084","webpack:///./src/components/Message/index.js","webpack:///./src/views/Goods/components/goods-sales.vue?a6af","webpack:///./src/views/Goods/components/goods-name.vue?93bf","webpack:///./src/views/Goods/index.vue","webpack:///./src/api/goods.js","webpack:///./src/views/Goods/components/goods-image.vue","webpack:///./src/views/Goods/components/goods-image.vue?6873","webpack:///./src/views/Goods/components/goods-sales.vue","webpack:///./src/views/Goods/components/goods-sales.vue?e6ff","webpack:///./src/views/Goods/components/goods-name.vue","webpack:///./src/views/Goods/components/goods-name.vue?f4be","webpack:///./src/views/Goods/index.vue?aba3","webpack:///./src/views/Goods/components/goods-image.vue?5116"],"names":["class","name","visible","style","type","icon","text","props","String","default","setup","warn","color","backgroundColor","borderColor","error","success","__exports__","render","time","vnode","createVNode","XtxMessage","document","body","component","setupState","setTimeout","goods","categories","separator","to","imgs","mainPictures","changSku","max","inventory","min","num","bg","goCart","details","pictures","url","i","key","findGoods","id","request","ref","isOutside","src","currentIndex","alt","pos","left","top","img","Array","target","x","y","elementX","elementY","value","salesCount","commentCount","collectCount","brand","href","desc","price","oldPrice","components","GoodsImage","GoodsSales","GoodsName","route","store","skus","goodsDetail","params","result","console","log","skuObj","skuId","CartDetailSing","picture","nowPrice","attrsText","specsText","stock","selected","isEffective","count","dispatch","res"],"mappings":"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","file":"js/chunk-8b7369ba.e1260a5f.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=6335054f&scoped=true&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=319c08a0&scoped=true&lang=less\"","<template>\r\n  <Transition name=\"down\">\r\n    <div class=\"xtx-message\" :style=\"style[type]\" v-if=\"visible\">\r\n      <!-- 上面绑定的是样式 -->\r\n      <i class=\"iconfont\" :class=\"[style[type].icon]\"></i>\r\n      <!-- 不同提示图标会变 -->\r\n      <span class=\"text\">{{ text }}</span>\r\n    </div>\r\n  </Transition>\r\n  <!-- 测试 -->\r\n  <!-- <button @click=\"visible = !visible\">mdc</button> -->\r\n</template>\r\n<script>\r\nimport { ref } from 'vue'\r\nexport default {\r\n  name: 'XtxMessage',\r\n  props: {\r\n    text: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    type: {\r\n      type: String,\r\n      // warn 警告  error 错误  success 成功\r\n      default: 'warn'\r\n    }\r\n  },\r\n  setup () {\r\n    // 定义一个对象，包含三种情况的样式，对象key就是类型字符串\r\n    const style = {\r\n      warn: {\r\n        icon: 'icon-warning',\r\n        color: '#E6A23C',\r\n        backgroundColor: 'rgb(253, 246, 236)',\r\n        borderColor: 'rgb(250, 236, 216)'\r\n      },\r\n      error: {\r\n        icon: 'icon-shanchu',\r\n        color: '#F56C6C',\r\n        backgroundColor: 'rgb(254, 240, 240)',\r\n        borderColor: 'rgb(253, 226, 226)'\r\n      },\r\n      success: {\r\n        icon: 'icon-queren2',\r\n        color: '#67C23A',\r\n        backgroundColor: 'rgb(240, 249, 235)',\r\n        borderColor: 'rgb(225, 243, 216)'\r\n      }\r\n    }\r\n\r\n    // 默认隐藏\r\n    const visible = ref(false)\r\n    // onMounted(() => {\r\n    //   visible.value = true\r\n    // })\r\n\r\n    return { style, visible }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.xtx-message {\r\n  // width: 300px;\r\n  height: 50px;\r\n  position: fixed;\r\n  z-index: 9999;\r\n  left: 50%;\r\n  margin-left: -150px;\r\n  top: 25px;\r\n  line-height: 50px;\r\n  padding: 0 25px;\r\n  border: 1px solid #e4e4e4;\r\n  background: #f5f5f5;\r\n  color: #999;\r\n  border-radius: 4px;\r\n  i {\r\n    margin-right: 4px;\r\n    vertical-align: middle;\r\n  }\r\n  .text {\r\n    vertical-align: middle;\r\n  }\r\n}\r\n.down {\r\n  // 进入\r\n  &-enter {\r\n    // 进入前 往上移动75px 并且透明度为零\r\n    &-from {\r\n      transform: translate3d(0, -75px, 0);\r\n      opacity: 0;\r\n    }\r\n    // 进入中 对所有的可以支持过滤效果的样式都应用过渡效果 整个过渡时长是0.5s\r\n    &-active {\r\n      transition: all 0.5s;\r\n    }\r\n    // 进入后\r\n    &-to {\r\n      transform: none;\r\n      opacity: 1;\r\n    }\r\n  }\r\n  // 离开\r\n  &-leave {\r\n    // 离开前\r\n    &-from {\r\n      transform: none;\r\n      opacity: 1;\r\n    }\r\n    // 离开中\r\n    &-active {\r\n      transition: all 0.5s;\r\n    }\r\n    // 离开后\r\n    &-to {\r\n      transform: translate3d(0, -75px, 0);\r\n      opacity: 0;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=319c08a0&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=319c08a0&scoped=true&lang=less\"\n\nimport exportComponent from \"F:\\\\ithiema\\\\黑马学习\\\\就业班\\\\07rabbit_test\\\\rabbitv0.0.3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-319c08a0\"]])\n\nexport default __exports__","// 实现使用函数调用xtx-message组件的逻辑\r\nimport { createVNode, render } from 'vue'\r\nimport XtxMessage from './index.vue'\r\n// msg({ type:'success', text:''})\r\n// 2. 导出使用方法\r\nexport default ({ type, text, time = 2000 }) => {\r\n  // if (vnode) return\r\n  // 1. 准备dom容器\r\n  // const div = document.createElement('div')\r\n  // document.body.appendChild(div)\r\n  // 定时器标识\r\n  // let timer = null\r\n  // 实现：根据xtx-message.vue渲染消息提示\r\n  // 1. 导入组件\r\n  // 2. 根据组件创建虚拟节点\r\n  const vnode = createVNode(XtxMessage, { type, text })\r\n  // 3. 准备一个DOM容器\r\n  // 4. 把虚拟节点渲染DOM容器中\r\n  render(vnode, document.body)\r\n  // 5. 开启定时，移出DOM容器内容\r\n  // timer && clearTimeout(timer)\r\n  // timer =\r\n  vnode.component.setupState.visible = true\r\n  setTimeout(() => {\r\n    // console.log(vnode, vnode.component.setupState)\r\n    // 触发关闭动画\r\n    // vnode.el.click()\r\n    vnode.component.setupState.visible = false\r\n    // 移除元素\r\n    // setTimeout(() => {\r\n    //   document.body.removeChild(div)\r\n    // vnode = null\r\n    // }, 1000)\r\n  }, time)\r\n}\r\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-sales.vue?vue&type=style&index=0&id=378f5cba&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-name.vue?vue&type=style&index=0&id=068f4320&lang=less&scoped=true\"","<template>\r\n  <div class=\"xtx-goods-page\" v-if=\"goods.categories\">\r\n    <div class=\"container\">\r\n      <!-- 面包屑 -->\r\n      <XtxBread separator=\"/\">\r\n        <!-- 首页固定 -->\r\n        <XtxBreadItem to=\"/\">首页</XtxBreadItem>\r\n        <!-- 一级 -->\r\n        <XtxBreadItem to=\"/\">{{ goods.categories[1].name }}</XtxBreadItem>\r\n        <!-- 二级 -->\r\n        <XtxBreadItem to=\"/\">{{ goods.categories[0].name }}</XtxBreadItem>\r\n        <!-- 自身 -->\r\n        <XtxBreadItem to=\"/\">{{ goods.name }}</XtxBreadItem>\r\n      </XtxBread>\r\n      <!-- 商品信息 -->\r\n      <div class=\"goods-info\">\r\n        <!-- 新增结构 -->\r\n        <!-- 图片预览区 mainPictures-->\r\n        <div class=\"media\">\r\n          <!-- 预览 -->\r\n          <GoodsImage :imgs=\"goods.mainPictures\" />\r\n          <GoodsSales :goods=\"goods\" />\r\n        </div>\r\n        <!-- 商品信息区 -->\r\n        <div class=\"spec\">\r\n          <GoodsName />\r\n          <!-- 商品规格 -->\r\n          <GoodsSku :goods=\"goods\" @change=\"changSku\" />\r\n          <!-- 数量 -->\r\n          <XtxNumbox :max=\"goods.inventory\" :min=\"1\" v-model=\"num\" />\r\n          <!-- 加入购物车 父传子是字符串不能:找不到变量 -->\r\n          <XtxButton\r\n            type=\"large\"\r\n            bg=\"primary\"\r\n            style=\"margin-top: 10px\"\r\n            @click=\"goCart\"\r\n          >\r\n            <!-- 支持插槽 -->\r\n            加入购物车\r\n          </XtxButton>\r\n        </div>\r\n      </div>\r\n      <!-- 商品详情 -->\r\n      <div class=\"goods-footer\">\r\n        <div class=\"goods-article\">\r\n          <div class=\"goods-tabs\">\r\n            <!-- 详情图片列表 -->\r\n            <img\r\n              v-for=\"(url, i) in goods.details.pictures\"\r\n              :key=\"i\"\r\n              v-imglazy=\"url\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"goods-aside\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { findGoods } from '@/api/goods'\r\nimport { useRoute } from 'vue-router'\r\n// 预览区\r\nimport GoodsImage from './components/goods-image.vue'\r\nimport { ref, provide } from 'vue'\r\nimport GoodsSales from './components/goods-sales.vue'\r\nimport GoodsName from './components/goods-name.vue'\r\nimport { useStore } from 'vuex'\r\nimport msg from '@/components/Message/index'\r\nexport default {\r\n  name: 'XtxGoodsPage',\r\n  components: {\r\n    GoodsImage,\r\n    GoodsSales,\r\n    GoodsName\r\n  },\r\n  setup () {\r\n    // 数量\r\n    const num = ref(1)\r\n    const goods = ref({})\r\n    // 依赖注入\r\n    provide('goods', goods)\r\n    const route = useRoute()\r\n    const store = useStore()\r\n    const skus = ref(null)\r\n    const goodsDetail = async () => {\r\n      const { result } = await findGoods(route.params.id)\r\n      console.log('当前商品信息', result)\r\n      goods.value = result\r\n    }\r\n    goodsDetail()\r\n    // sku\r\n    // 产出当前选择的商品规格信息，如果是完整的sku，产出完整的对象信息，如果不完整，则产出空对象\r\n    const changSku = (skuObj) => {\r\n      if (skuObj.skuId) {\r\n        // 根据不同规格改变不同的价格和库存\r\n        goods.value.inventory = skuObj.inventory\r\n        goods.value.oldPrice = skuObj.oldPrice\r\n        goods.value.price = skuObj.price\r\n        skus.value = skuObj\r\n        console.log('skus', skus)\r\n      } else {\r\n        // sku无效的时候清空避免有上次sku数据\r\n        skus.value = null\r\n      }\r\n    }\r\n    // 点击加入购物车   有效sku  库存不为0\r\n    const goCart = async () => {\r\n      // 根据唯一标识\r\n      if (!skus.value.skuId) {\r\n        msg({ type: 'warn', text: '请选择商品规格' })\r\n      }\r\n      if (skus.value.inventory === 0) {\r\n        msg({ type: 'warn', text: '库存不足' })\r\n      }\r\n      // 实现加入购物车---准备单个商品类对象\r\n      const CartDetailSing = {\r\n        id: goods.value.id,\r\n        name: goods.value.name,\r\n        picture: goods.value.mainPictures[0],\r\n        skuId: skus.value.skuId,\r\n        price: skus.value.oldPrice,\r\n        nowPrice: skus.value.price,\r\n        attrsText: skus.value.specsText,\r\n        stock: skus.value.inventory,\r\n        selected: true,\r\n        // 有效期\r\n        isEffective: true,\r\n        count: num.value\r\n      }\r\n      try {\r\n        const res = await store.dispatch('cart/addCartListActions', CartDetailSing)\r\n        msg({ type: 'success', text: res })\r\n      } catch (error) {\r\n        msg({ type: 'error', text: '加入购物车失败' })\r\n      }\r\n    }\r\n    return {\r\n      goods,\r\n      changSku,\r\n      num,\r\n      goCart\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.goods-info {\r\n  min-height: 600px;\r\n  background: #fff;\r\n  display: flex;\r\n  // 新增样式\r\n  .media {\r\n    width: 580px;\r\n    height: 600px;\r\n    padding: 30px 50px;\r\n  }\r\n  .spec {\r\n    flex: 1;\r\n    padding: 30px 30px 30px 0;\r\n  }\r\n}\r\n.goods-footer {\r\n  display: flex;\r\n  margin-top: 20px;\r\n  .goods-article {\r\n    width: 940px;\r\n    margin-right: 20px;\r\n  }\r\n  .goods-aside {\r\n    width: 280px;\r\n    min-height: 1000px;\r\n    background: #fff;\r\n  }\r\n}\r\n.goods-tabs {\r\n  min-height: 600px;\r\n  background: #fff;\r\n  img {\r\n    width: 100%;\r\n  }\r\n}\r\n.goods-warn {\r\n  min-height: 600px;\r\n  background: #fff;\r\n  margin-top: 20px;\r\n}\r\n</style>\r\n","import request from '@/utils/request'\r\n/**\r\n * @description: 获取详情数据\r\n * @param {*} id\r\n * @return {*}\r\n */\r\nexport const findGoods = (id) => {\r\n  return request('/goods', 'get', { id })\r\n}\r\n","<template>\r\n  <!-- <p>{{ elementX }} {{ elementY }} {{ isOutside }}</p> -->\r\n  <div class=\"goods-image\">\r\n    <div\r\n      v-show=\"!isOutside\"\r\n      class=\"large\"\r\n      :style=\"[\r\n        {\r\n          backgroundImage: `url(${imgs[currentIndex]})`,\r\n          backgroundPosition: `${bg.x}px ${bg.y}px`,\r\n        },\r\n      ]\"\r\n    ></div>\r\n    <div class=\"middle\" ref=\"target\">\r\n      <!-- 动态显示图片 -->\r\n      <img :src=\"imgs[currentIndex]\" alt=\"\" />\r\n      <!-- 蒙层 -->\r\n      <div\r\n        v-show=\"!isOutside\"\r\n        class=\"layer\"\r\n        :style=\"[{ left: `${pos.left}px`, top: `${pos.top}px` }]\"\r\n      ></div>\r\n    </div>\r\n    <ul class=\"small\">\r\n      <!-- 拿到最新的下标 -->\r\n      <li\r\n        v-for=\"(img, i) in imgs\"\r\n        :key=\"i\"\r\n        @mouseenter=\"currentIndex = i\"\r\n        :class=\"{ active: currentIndex === i }\"\r\n      >\r\n        <img :src=\"img\" alt=\"\" />\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, ref, watch } from 'vue-demi'\r\n// 获取鼠标的坐标\r\nimport { useMouseInElement } from '@vueuse/core'\r\n/**\r\n * 1. 基于那个元素盒子做限制范围 -----ref获取\r\n * 2. 调用方法获取坐标及在外面等属性\r\n */\r\nexport default {\r\n  name: 'GoodsImage',\r\n  props: {\r\n    imgs: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  setup () {\r\n    // 限制大小\r\n    const target = ref(null)\r\n    // 偏移量\r\n    const pos = reactive({ left: 0, top: 0 })\r\n    // 放大镜\r\n    const bg = reactive({ x: 0, y: 0 })\r\n    const currentIndex = ref(0)\r\n    // 调用接口拿到坐标------参数表示限制容器 返回三个变量数据\r\n    // elementX 鼠标基于容器左上角X轴偏移\r\n    // elementY 鼠标基于容器左上角Y轴偏移\r\n    // isOutside 鼠标是否在模板容器外\r\n    // 三个参数都是ref对象\r\n    const { elementX, elementY, isOutside } = useMouseInElement(target)\r\n    // 拿到坐标移动蒙层 watch\r\n    watch([elementX, elementY], () => {\r\n      // 根据坐标判断盒子可移动的距离控制盒子的定位偏移量\r\n      // 中心点移动可超出 100-300 不超出 0-200\r\n      // x轴\r\n      if (elementX.value > 300) {\r\n        // 右侧超出\r\n        pos.left = 200\r\n      } else if (elementX.value < 100) {\r\n        // 左侧超出\r\n        pos.left = 0\r\n      } else {\r\n        // 正常 elementX.value-蒙层盒子的一半宽高 (本项目预览盒子无offsetTop/Left)\r\n        pos.left = elementX.value - 100\r\n      }\r\n      // y轴\r\n      if (elementY.value > 300) {\r\n        // 右侧超出\r\n        pos.top = 200\r\n      } else if (elementY.value < 100) {\r\n        // 左侧超出\r\n        pos.top = 0\r\n      } else {\r\n        // 正常 elementY.value-蒙层盒子的一半宽高 (本项目预览盒子无offsetTop/Left)\r\n        pos.top = elementY.value - 100\r\n      }\r\n      // 放大镜盒子是小盒子的两倍移动时是跟随的但是移动的位置要*2，考虑图片以左上角为准 所以是负数让图片相反\r\n      bg.x = -pos.left * 2\r\n      bg.y = -pos.top * 2\r\n    })\r\n    return { currentIndex, target, elementX, elementY, isOutside, pos, bg }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.goods-image {\r\n  width: 480px;\r\n  height: 400px;\r\n  position: relative;\r\n  display: flex;\r\n  .middle {\r\n    width: 400px;\r\n    height: 400px;\r\n    background: #f5f5f5;\r\n  }\r\n  .small {\r\n    width: 80px;\r\n    li {\r\n      width: 68px;\r\n      height: 68px;\r\n      margin-left: 12px;\r\n      margin-bottom: 15px;\r\n      cursor: pointer;\r\n      &:hover,\r\n      &.active {\r\n        border: 2px solid @xtxColor;\r\n      }\r\n    }\r\n  }\r\n}\r\n// 放大镜\r\n.large {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 412px;\r\n  width: 400px;\r\n  height: 400px;\r\n  z-index: 500;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n  background-repeat: no-repeat;\r\n  // 背景缩放\r\n  background-size: 800px 800px;\r\n  background-color: #f8f8f8;\r\n}\r\n// 蒙层\r\n.layer {\r\n  width: 200px;\r\n  height: 200px;\r\n  background: rgba(0, 0, 0, 0.2);\r\n  left: 0;\r\n  top: 0;\r\n  // 蒙层移动的关键\r\n  position: absolute;\r\n}\r\n</style>\r\n","import { render } from \"./goods-image.vue?vue&type=template&id=7c89fbb1&scoped=true\"\nimport script from \"./goods-image.vue?vue&type=script&lang=js\"\nexport * from \"./goods-image.vue?vue&type=script&lang=js\"\n\nimport \"./goods-image.vue?vue&type=style&index=0&id=7c89fbb1&scoped=true&lang=less\"\n\nimport exportComponent from \"F:\\\\ithiema\\\\黑马学习\\\\就业班\\\\07rabbit_test\\\\rabbitv0.0.3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7c89fbb1\"]])\n\nexport default __exports__","<template>\r\n  <ul class=\"goods-sales\">\r\n    <li>\r\n      <p>销量人气</p>\r\n      <p>{{ goods.salesCount }}</p>\r\n      <p><i class=\"iconfont icon-task-filling\"></i>销量人气</p>\r\n    </li>\r\n    <li>\r\n      <p>商品评价</p>\r\n      <p>{{ goods.commentCount }}</p>\r\n      <p><i class=\"iconfont icon-comment-filling\"></i>查看评价</p>\r\n    </li>\r\n    <li>\r\n      <p>收藏人气</p>\r\n      <p>{{ goods.collectCount }}</p>\r\n      <p><i class=\"iconfont icon-favorite-filling\"></i>收藏商品</p>\r\n    </li>\r\n    <li>\r\n      <p>品牌信息</p>\r\n      <p>{{ goods.brand.name }}</p>\r\n      <p><i class=\"iconfont icon-dynamic-filling\"></i>品牌主页</p>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nimport { inject } from 'vue'\r\nexport default {\r\n  name: 'GoodsSales',\r\n  setup () {\r\n    const goods = inject('goods')\r\n    return { goods }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.goods-sales {\r\n  display: flex;\r\n  width: 400px;\r\n  align-items: center;\r\n  text-align: center;\r\n  height: 140px;\r\n  li {\r\n    flex: 1;\r\n    position: relative;\r\n    ~ li::after {\r\n      position: absolute;\r\n      top: 10px;\r\n      left: 0;\r\n      height: 60px;\r\n      border-left: 1px solid #e4e4e4;\r\n      content: \"\";\r\n    }\r\n    p {\r\n      &:first-child {\r\n        color: #999;\r\n      }\r\n      &:nth-child(2) {\r\n        color: @priceColor;\r\n        margin-top: 10px;\r\n      }\r\n      &:last-child {\r\n        color: #666;\r\n        margin-top: 10px;\r\n        i {\r\n          color: @xtxColor;\r\n          font-size: 14px;\r\n          margin-right: 2px;\r\n        }\r\n        &:hover {\r\n          color: @xtxColor;\r\n          cursor: pointer;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-sales.vue?vue&type=template&id=378f5cba&scoped=true\"\nimport script from \"./goods-sales.vue?vue&type=script&lang=js\"\nexport * from \"./goods-sales.vue?vue&type=script&lang=js\"\n\nimport \"./goods-sales.vue?vue&type=style&index=0&id=378f5cba&scoped=true&lang=less\"\n\nimport exportComponent from \"F:\\\\ithiema\\\\黑马学习\\\\就业班\\\\07rabbit_test\\\\rabbitv0.0.3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-378f5cba\"]])\n\nexport default __exports__","<template>\r\n  <p class=\"g-name\">{{ goods.name }}</p>\r\n  <p class=\"g-desc\">{{ goods.desc }}</p>\r\n  <p class=\"g-price\">\r\n    <span>{{ goods.price }}</span>\r\n    <span>{{ goods.oldPrice }}</span>\r\n  </p>\r\n  <div class=\"g-service\">\r\n    <dl>\r\n      <dt>促销</dt>\r\n      <dd>12月好物放送，App领券购买直降120元</dd>\r\n    </dl>\r\n    <dl>\r\n      <dt>配送</dt>\r\n      <dd>至</dd>\r\n      <dd>\r\n        <XtxCity />\r\n      </dd>\r\n    </dl>\r\n    <dl>\r\n      <dt>服务</dt>\r\n      <dd>\r\n        <span>无忧退货</span>\r\n        <span>快速退款</span>\r\n        <span>免费包邮</span>\r\n        <a href=\"javascript:;\">了解详情</a>\r\n      </dd>\r\n    </dl>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { inject } from 'vue'\r\n\r\nexport default {\r\n  name: 'GoodName',\r\n  setup () {\r\n    const goods = inject('goods')\r\n    return { goods }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.g-name {\r\n  font-size: 22px;\r\n}\r\n.g-desc {\r\n  color: #999;\r\n  margin-top: 10px;\r\n}\r\n.g-price {\r\n  margin-top: 10px;\r\n  span {\r\n    &::before {\r\n      content: \"¥\";\r\n      font-size: 14px;\r\n    }\r\n    &:first-child {\r\n      color: @priceColor;\r\n      margin-right: 10px;\r\n      font-size: 22px;\r\n    }\r\n    &:last-child {\r\n      color: #999;\r\n      text-decoration: line-through;\r\n      font-size: 16px;\r\n    }\r\n  }\r\n}\r\n.g-service {\r\n  background: #f5f5f5;\r\n  width: 500px;\r\n  padding: 20px 10px 0 10px;\r\n  margin-top: 10px;\r\n  dl {\r\n    padding-bottom: 20px;\r\n    display: flex;\r\n    align-items: center;\r\n    dt {\r\n      width: 50px;\r\n      color: #999;\r\n    }\r\n    dd {\r\n      color: #666;\r\n      &:last-child {\r\n        span {\r\n          margin-right: 10px;\r\n          &::before {\r\n            content: \"•\";\r\n            color: @xtxColor;\r\n            margin-right: 2px;\r\n          }\r\n        }\r\n        a {\r\n          color: @xtxColor;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-name.vue?vue&type=template&id=068f4320&scoped=true\"\nimport script from \"./goods-name.vue?vue&type=script&lang=js\"\nexport * from \"./goods-name.vue?vue&type=script&lang=js\"\n\nimport \"./goods-name.vue?vue&type=style&index=0&id=068f4320&lang=less&scoped=true\"\n\nimport exportComponent from \"F:\\\\ithiema\\\\黑马学习\\\\就业班\\\\07rabbit_test\\\\rabbitv0.0.3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-068f4320\"]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=6335054f&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=6335054f&scoped=true&lang=less\"\n\nimport exportComponent from \"F:\\\\ithiema\\\\黑马学习\\\\就业班\\\\07rabbit_test\\\\rabbitv0.0.3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6335054f\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-image.vue?vue&type=style&index=0&id=7c89fbb1&scoped=true&lang=less\""],"sourceRoot":""}